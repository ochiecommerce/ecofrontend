(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{25:function(e,t,a){e.exports=a(45)},33:function(e,t,a){},39:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(18),r=a.n(c),s=(a(33),a(12)),o=a(3),i=a(19),u=a.n(i),m=a(20),p=a.n(m),d=a(51),g=a(48),E=a(49),b=a(50);a(39);function h(e){let{products:t}=e;return l.a.createElement(u.a,{data:t,contentKeys:{imgKey:"image",cardTitleKey:"name",cardDescriptionKey:"description",priceKey:"price"},skeleton:0,cardSize:"sm",btnOneText:"View",btnTwoText:"Purchase Now",btnOneHandler:(e,t,a)=>{},btnTwoHandler:(e,t,a)=>{},imageClickHandler:(e,t,a)=>{},cardControls:e=>l.a.createElement("div",null,l.a.createElement("input",{className:"my-custom-input",placeholder:"custom-input"}),l.a.createElement("button",{className:"my-custom-button",type:"submit"}," OK "))})}const f=e=>{let{products:t}=e;const[a,c]=Object(n.useState)([]),[r,s]=Object(n.useState)(0),[o,i]=Object(n.useState)(0);l.a.useEffect(()=>{const e=o+10;c(t.slice(o,e)),s(Math.ceil(t.length/10))},[o,10]);return l.a.createElement("div",null,l.a.createElement(h,{products:a}),l.a.createElement(p.a,{breakLabel:"...",nextLabel:"next >",onPageChange:e=>{const a=10*e.selected%t.length;i(a)},pageRangeDisplayed:5,pageCount:r,previousLabel:"< previous",renderOnZeroPageCount:null,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"}))};var y=function(e){const[t,a]=Object(n.useState)([]),[c,r]=Object(n.useState)(!0),[s,o]=Object(n.useState)(null);return Object(n.useEffect)(()=>{(async()=>{try{const e=await d.a.get("http://localhost:8000/api/products/");a(e.data),r(!1)}catch(e){o(e.message),r(!1)}})()},[]),c?l.a.createElement(g.a,{className:"d-flex justify-content-center mt-5"},l.a.createElement(E.a,{animation:"border"})):s?l.a.createElement(g.a,{className:"d-flex justify-content-center mt-5"},l.a.createElement(b.a,{variant:"danger"},s)):l.a.createElement(f,{products:t})};const v=Object(n.createContext)();var C=()=>{const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(""),{login:r}=Object(n.useContext)(v);Object(o.p)();return l.a.createElement("div",null,l.a.createElement("h2",null,"Login"),l.a.createElement("form",{onSubmit:t=>{t.preventDefault(),fetch("http://localhost:8000/api/token/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})}).then(e=>e.json()).then(e=>{e.access?r(e.access):alert("Login failed")})}},l.a.createElement("div",null,l.a.createElement("label",null,"Username:"),l.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value)})),l.a.createElement("div",null,l.a.createElement("label",null,"Password:"),l.a.createElement("input",{type:"password",value:a,onChange:e=>c(e.target.value)})),l.a.createElement("button",{type:"submit"},"Login")))};var O=e=>{let{children:t,isAuthenticated:a}=e;const{user:c}=Object(n.useContext)(v);return a?t:l.a.createElement(o.a,{to:"/login"})};var j=()=>{const[e,t]=Object(n.useState)(null),[a,c]=Object(n.useState)(!0),[r,s]=Object(n.useState)(null);return Object(n.useEffect)(()=>{(async()=>{try{const e=await d.a.get("/api/cart/");t(e.data)}catch(e){s(e)}finally{c(!1)}})()},[]),a?l.a.createElement("p",null,"Loading cart details..."):r?l.a.createElement("p",null,"Error loading cart details: ",r.message):l.a.createElement("div",null,l.a.createElement("h2",null,"Your Cart"),0===e.items.length?l.a.createElement("p",null,"Your cart is empty"):l.a.createElement("ul",null,e.items.map(e=>l.a.createElement("li",{key:e.id},e.name," - ",e.quantity," x $",e.price))),l.a.createElement("p",null,"Total: $",e.total))};var k=function(){return l.a.createElement(s.a,null,l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/login",element:C}),l.a.createElement(o.b,{path:"/cart",element:l.a.createElement(O,{path:"/cart",component:j})}),l.a.createElement(o.b,{path:"/",element:l.a.createElement(y,null)})))};var S=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,52)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:c,getTTFB:r}=t;a(e),n(e),l(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(k,null))),S()}},[[25,1,2]]]);
//# sourceMappingURL=main.0313324f.chunk.js.map